---
const features = [
  {
    title: 'Fast',
    description:
      'Rule out bad RAM in under a minute. Multi-threaded. No waiting around while your game sits broken.',
    icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',
    color: 'green' as const,
  },
  {
    title: 'RAM + VRAM',
    description:
      'Tests both system memory and GPU VRAM. Compute shaders hammer your graphics card. Eight patterns catch what basic tests miss.',
    icon: 'M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z',
    color: 'yellow' as const,
  },
  {
    title: 'Scriptable',
    description:
      'Exit code 0 for pass, 1 for fail. Integrate into your mod debugging workflow. Automate the boring stuff.',
    icon: 'M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
    color: 'red' as const,
  },
];

const colorClasses = {
  red: {
    border: 'border-ez-red-700',
    bg: 'bg-ez-red-700/10',
    icon: 'text-ez-red-500',
    hover: 'hover:border-ez-red-600 hover:bg-ez-red-700/20',
  },
  yellow: {
    border: 'border-ez-yellow-500',
    bg: 'bg-ez-yellow-500/10',
    icon: 'text-ez-yellow-500',
    hover: 'hover:border-ez-yellow-400 hover:bg-ez-yellow-500/20',
  },
  green: {
    border: 'border-ez-green-500',
    bg: 'bg-ez-green-500/10',
    icon: 'text-ez-green-500',
    hover: 'hover:border-ez-green-400 hover:bg-ez-green-500/20',
  },
};
---

<section id="ferritest" class="relative bg-ez-grey-950 py-32 pb-48 lg:py-64 lg:pb-72">
	<!-- Diagonal accent -->
	<div class="absolute left-0 top-0 h-1 w-full bg-linear-to-r from-ez-green-500 via-ez-yellow-500 to-transparent"></div>

	<!-- Red diagonal transition at bottom -->
	<div class="absolute bottom-0 left-0 right-0 h-32 bg-ez-red-700" style="clip-path: polygon(0 100%, 100% 0, 100% 100%, 0 100%);"></div>

	<div class="mx-auto max-w-7xl px-6 lg:px-8">
		<!-- Section header -->
		<div class="mb-16 grid gap-8 lg:mb-24 lg:grid-cols-2 lg:gap-16">
			<div>
				<div class="mb-4 inline-flex items-center gap-2 border-2 border-ez-yellow-500 bg-ez-yellow-500/20 px-4 py-2">
					<svg class="h-4 w-4 text-ez-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
						<path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
					</svg>
					<span class="font-ui text-xs uppercase tracking-wider text-ez-yellow-500">Tools</span>
				</div>

				<h2 class="font-display text-4xl font-bold uppercase leading-[0.9] tracking-tight text-white sm:text-5xl lg:text-6xl">
					Ferritest<br />
					<span class="bg-linear-to-r from-ez-green-500 to-ez-yellow-500 bg-clip-text text-transparent">Memory Stress Test</span>
				</h2>
			</div>

			<div class="flex flex-col justify-end">
				<p class="border-l-4 border-ez-grey-500 pl-6 font-mono text-base leading-relaxed text-ez-grey-100 sm:text-lg">
					Before you spend three hours bisecting your mod list, spend one minute checking your hardware.
					Bad RAM and VRAM cause random crashes that look exactly like mod conflicts. Ferritest hammers
					both with eight detection patterns and tells you if your hardware is lying to you.
				</p>
				<p class="mt-4 pl-6 font-mono text-sm text-ez-grey-500">
					Rule out the hardware. Then blame the mods.
				</p>
			</div>
		</div>

		<!-- Features grid -->
		<div class="mb-16 grid gap-6 sm:grid-cols-3 lg:mb-24">
			{features.map((feature, index) => {
				const colors = colorClasses[feature.color];
				return (
					<div class:list={[
						'group relative border-4 p-6 transition-all duration-300 sm:p-8',
						colors.border,
						colors.bg,
						colors.hover,
					]}>
						<!-- Index number -->
						<div class="absolute right-4 top-4 font-display text-6xl font-bold text-ez-grey-800 transition-colors group-hover:text-ez-grey-700">
							{String(index + 1).padStart(2, '0')}
						</div>

						<div class="relative">
							<div class:list={[
								'mb-4 inline-flex h-12 w-12 items-center justify-center border-2',
								colors.border,
								colors.bg,
							]}>
								<svg class:list={['h-6 w-6', colors.icon]} fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
									<path stroke-linecap="round" stroke-linejoin="round" d={feature.icon} />
								</svg>
							</div>

							<h3 class="mb-3 font-ui text-xl font-bold uppercase tracking-wide text-white">
								{feature.title}
							</h3>

							<p class="font-mono text-sm leading-relaxed text-ez-grey-400">
								{feature.description}
							</p>
						</div>
					</div>
				);
			})}
		</div>

		<!-- CTA Block -->
		<div class="relative overflow-hidden border-4 border-ez-grey-800 bg-ez-grey-900">
			<!-- Background pattern -->
			<div class="absolute inset-0 opacity-5" style="background-image: url(&quot;data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2300a63e' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E&quot;);"></div>

			<div class="relative grid gap-8 p-8 lg:grid-cols-2 lg:gap-16 lg:p-12">
				<div>
					<h3 class="mb-4 font-display text-3xl font-bold uppercase text-white sm:text-4xl">
						Open Source.<br />
						<span class="text-ez-grey-500">MIT Licensed.</span>
					</h3>
					<p class="border-l-4 border-ez-grey-600 pl-4 font-mono text-sm leading-relaxed text-ez-grey-400">
						Written in Rust. Cross-platform. Runs anywhere your games run.
						Download the binary or build from source.
					</p>

					<div class="mt-6 flex flex-wrap gap-3">
						<span class="inline-flex items-center gap-1 border-2 border-ez-grey-700 bg-ez-grey-800 px-3 py-1 font-mono text-xs text-ez-grey-400">
							<svg class="h-3 w-3 text-ez-red-600" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg>
							rust
						</span>
						<span class="inline-flex items-center gap-1 border-2 border-ez-grey-700 bg-ez-grey-800 px-3 py-1 font-mono text-xs text-ez-grey-400">
							<svg class="h-3 w-3 text-ez-yellow-600" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg>
							cross-platform
						</span>
						<span class="inline-flex items-center gap-1 border-2 border-ez-grey-700 bg-ez-grey-800 px-3 py-1 font-mono text-xs text-ez-grey-400">
							<svg class="h-3 w-3 text-ez-green-600" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg>
							MIT
						</span>
					</div>
				</div>

				<div class="flex flex-col justify-center gap-4">
					<a
						href="https://github.com/ezmode-games/ferritest/releases"
						target="_blank"
						rel="noopener noreferrer"
						class="group flex items-center justify-center gap-3 border-4 border-ez-green-500 bg-ez-green-500 px-8 py-5 font-ui text-lg font-bold uppercase tracking-wider text-ez-grey-950 transition-all hover:bg-transparent hover:text-ez-green-500"
					>
						Download
						<svg class="h-5 w-5 transition-transform group-hover:translate-y-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
							<path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
						</svg>
					</a>

					<a
						href="https://github.com/ezmode-games/ferritest"
						target="_blank"
						rel="noopener noreferrer"
						class="group flex items-center justify-center gap-3 border-4 border-ez-grey-600 bg-transparent px-8 py-5 font-ui text-lg font-bold uppercase tracking-wider text-ez-grey-400 transition-all hover:border-ez-grey-500 hover:bg-ez-grey-800 hover:text-white"
					>
						<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
						View Source
					</a>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Red CTA Section -->
<section
	class="relative overflow-hidden bg-ez-red-700 px-6 py-32 lg:px-8"
>
	<!-- Background pattern -->
	<div class="pointer-events-none absolute inset-0 opacity-10">
		<div class="absolute right-0 top-0 h-full w-1/3 bg-linear-to-l from-white to-transparent"></div>
		<div class="absolute left-1/4 top-1/4 size-64 rotate-45 border-8 border-white"></div>
	</div>

	<div class="relative mx-auto max-w-4xl text-center">
		<h2 class="mb-6 font-display uppercase leading-[0.9] text-white">
			<span class="block text-[clamp(3rem,10vw,8rem)]">Join the</span>
			<span class="block text-[clamp(3rem,10vw,8rem)]">Community</span>
		</h2>
		<p class="mb-12 font-mono text-xl text-white/90">
			Open source tools. Built by modders, for modders.
		</p>
		<div class="flex flex-col items-center justify-center gap-4 sm:flex-row">
			<a
				href="https://discord.gg/XJx4mYQZ"
				target="_blank"
				rel="noopener noreferrer"
				class="group flex items-center gap-3 border-4 border-white bg-white px-10 py-5 font-ui text-xl uppercase tracking-wider text-ez-red-700 transition-all hover:bg-transparent hover:text-white hover:shadow-[0_0_40px_rgba(255,255,255,0.3)]"
			>
				<svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
				Join Discord
			</a>
			<a
				href="https://github.com/ezmode-games"
				target="_blank"
				rel="noopener noreferrer"
				class="group flex items-center gap-3 border-4 border-white bg-transparent px-10 py-5 font-ui text-xl uppercase tracking-wider text-white transition-all hover:bg-white hover:text-ez-red-700"
			>
				<svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
				GitHub
			</a>
		</div>
	</div>
</section>
